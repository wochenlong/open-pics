# Open-Pics

Open-Pics是一个有趣的个性化随机图片插件，适用于Koishi机器人框架。

## 实现方式

Open-Pics插件的随机图片功能通过以下步骤实现：

1. 创建一个名为 `pic` 的命令，当用户输入 `pic` 命令时，会触发相应的动作。

2. 根据用户输入的参数执行不同的操作：
   - 如果参数是 `reset`，并且当前用户是管理员，则将 `max_pics` 设置为0。
   - 如果参数是 `add`，并且当前用户是管理员，则将 `max_pics` 加上指定的数量。
   - 如果没有参数，则随机生成一个图片 ID 并发送消息。
   - 如果参数是一个数字，并且小于等于 `max_pics`，则发送对应的图片消息。
   - 如果参数超过了 `max_pics`，则发送图片不存在的消息。

3. 在发送消息时，调用 `createMessage` 函数生成消息内容。该函数会将图片 ID 和图片地址拼接成一个完整的图片 URL，并使用 `h` 函数生成艾特用户和图片标签。

4. 在 `createMessage` 函数中，使用字符串模板将生成的消息内容拼接成一个完整的消息，并返回给调用者。

5. 在 `apply` 函数中，定义了一个用于生成随机整数的 `mathRandomInt` 函数，用于实现随机生成图片 ID 的功能。

6. 在 `apply` 函数中，还定义了一些必要的变量，包括管理员 ID、最大图片数量、当前图片 ID 和图片地址等，用于存储和管理图片相关的信息。

## 使用方法

1. 下载并安装Koishi机器人框架。

2. 下载Open-Pics插件并将其添加到Koishi机器人框架中。

3. 在Koishi机器人框架中使用 `pic` 命令，即可随机发送一张图片。若需要指定图片，可以在命令后加上对应的数字参数。

4. 若需要重置图片数量或增加图片数量，可以在命令后加上 `reset` 或 `add` 参数，并在管理员身份下执行。

## 版权信息

Open-Pics插件遵循MIT开源协议，欢迎大家自由使用、分享和修改。如有任何问题或建议，欢迎在GitHub上提交Issue或Pull Request。
